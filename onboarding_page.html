<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sketcher Setup</title>
    <style>
        :root { --bg: #f0f2f5; --card: #ffffff; --primary: #007aff; --text: #1d1d1f; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .card { background: var(--card); padding: 2rem; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); width: 90%; max-width: 320px; text-align: center; }
        svg { width: 50px; height: 50px; margin-bottom: 1rem; fill: var(--primary); }
        h1 { font-size: 1.5rem; margin: 0 0 0.5rem; }
        p { font-size: 0.9rem; color: #666; line-height: 1.4; margin-bottom: 1.5rem; }
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; font-size: 1rem; outline: none; transition: border 0.2s; }
        input:focus { border-color: var(--primary); }
        button { width: 100%; background: var(--primary); color: white; border: none; padding: 12px; border-radius: 10px; font-weight: bold; font-size: 1rem; cursor: pointer; margin-top: 10px; }
        button:active { transform: scale(0.98); }
    </style>
</head>
<body>
    <div class="card">
       <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M480-120q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM254-346l-84-86q59-59 138.5-93.5T480-560q92 0 171.5 35T790-430l-84 84q-44-44-102-69t-124-25q-66 0-124 25t-102 69ZM84-516 0-600q92-94 215-147t265-53q142 0 265 53t215 147l-84 84q-77-77-178.5-120.5T480-680q-116 0-217.5 43.5T84-516Z"/></svg>
        <h1>Connect to WiFi</h1>
        <p>Connect your Sketcher to the WiFi to send drawings. For help, check your manual.</p>
        <input type="text" name="ssid" placeholder="WiFi Name (SSID)" required>
        <input type="password" name="password" placeholder="Password" required>
        <button onclick="send()">Connect</button>
    </div>
    <script>
        function send() {
            const ssid = document.querySelector('input[name="ssid"]').value;
            const password = document.querySelector('input[name="password"]').value;
            if (!ssid || !password) {
                alert('Please fill in both fields.');
                return;
            }
            fetch('/connect'+ `?ssid=${encodeURIComponent(ssid)}&password=${encodeURIComponent(password)}`, {
                method: 'GET'
            })
            .then(response => response.text())
            .then(data => {
                if (data.success) {
                    alert('Submitted. Check your manaual for further instructions.');
                } else {
                    alert('Connection failed!');
                    console.error('Error:', data);
                }
            })
            .catch(error => {
                alert('Error: ' + error.message);
            });
        }
    </script>
</body>
</html>